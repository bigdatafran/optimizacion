
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>4. Modelización de restricciones lógicas con variables 0-1. &#8212; Optimizacion con Python</title>
    
  <link rel="stylesheet" href="_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. Introducción Pyomo." href="pyomo1.html" />
    <link rel="prev" title="1. Introducción." href="capitulo1.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Optimizacion con Python</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="introduccion.html">
   Introducción.
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  OR-Tools y teoría
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="capitulo1.html">
   1. Introducción.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="capitulo1.html#problemas-de-optimizacion-lineal">
   2. Problemas de optimización lineal.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="capitulo1.html#optimizacion-entera">
   3. Optimización entera.
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   4. Modelización de restricciones lógicas con variables 0-1
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Pyomo
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="pyomo1.html">
   1. Introducción a Pyomo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="EstrategiasModeladoPyomo.html">
   2. Estrategias de Modelado con Pyomo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ComponentesModelado1.html">
   3. componentes de modelado.
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/capitulo2.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/capitulo2.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indicadores-de-variables-continuas">
   4.1. Indicadores de variables continuas.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#restricciones-logicas-incluyendo-variables">
   4.2. Restricciones lógicas incluyendo variables.
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#variables-incompatibles">
     4.2.1. Variables incompatibles.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#maximo-numero-de-variables">
     4.2.2. Máximo número de variables.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#variables-o-expresiones-discretas">
     4.2.3. Variables o expresiones discretas.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#variables-semicontinuas">
     4.2.4. Variables semicontinuas.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#costos-fijos">
     4.2.5. Costos fijos.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#otras-condiciones-logicas-incluyendo-variables">
     4.2.6. Otras condiciones lógicas incluyendo variables.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extension-de-la-restriccion-x-leq-uy-a-varias-variables">
     4.2.7. Extensión de la restricción
     <span class="math notranslate nohighlight">
      \(x \leq uy\)
     </span>
     a varias variables.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#condiciones-logicas-incluyendo-restricciones-o-expresiones">
     4.2.8. Condiciones lógicas incluyendo restricciones o expresiones.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dicotomias-o-restricciones-al-menos-una-de-dos">
     4.2.9. Dicotomías o restricciones ‘al menos una de dos’.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#disyunciones-o-restricciones-al-menos-k-de-m">
     4.2.10. Disyunciones o restricciones ‘al menos k de m’.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#implicaciones-o-restricciones-condicionales">
     4.2.11. Implicaciones o restricciones condicionales.
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="modelizacion-de-restricciones-logicas-con-variables-0-1">
<h1><span class="section-number">4. </span>Modelización de restricciones lógicas con variables 0-1.<a class="headerlink" href="#modelizacion-de-restricciones-logicas-con-variables-0-1" title="Permalink to this headline">¶</a></h1>
<p>La programación Entera, mediante el uso de variable 0-1, permite expresar en forma de restricciones lineales una gama muy amplia de restricciones lógicas o cualitativas que aparecen muy frecuentemente en las aplicaciones de la Investigación Operativa. Esta capacidad de modelización hace que el uso de la programación entera se haya extendido a muchos entornos de producción, transporte, logística, localización, asignación de recursos, diseño de ingeniería, inversión, análisis económicos, etc. Entre otros muchos tipos de restricciones lógicas, podemos citar las más habituales.</p>
<p>1.- Máximo número de variables</p>
<p>2.- Variables incompatibles.</p>
<p>3.- Variables discretas.</p>
<p>4.- Variables semicontinuas.</p>
<p>5.- Costos fijos.</p>
<p>6.- Economías de escala o tarifas de precios.</p>
<p>7.- Dicotomías ( o restricciones ‘al menos una de dos’)</p>
<p>8.- Disyunciones o restricciones disyuntivas ( al menos k de varias )</p>
<p>9.- Regiones no convexas.</p>
<p>10.- Implicaciones o restricciones condicionales.</p>
<p>Para linealizar ( es decir, expresar en forma de restricciones lineales ) estas condiciones lógicas es necesario generalmente introducir unas variables 0-1 adicionales, que son los indicadores de variables y de restricciones. Entendiendo bien las relaciones entre variables y las restricciones y sus indicadores, el proceso de modelización de condiciones lógicas es sencillo.</p>
<div class="section" id="indicadores-de-variables-continuas">
<h2><span class="section-number">4.1. </span>Indicadores de variables continuas.<a class="headerlink" href="#indicadores-de-variables-continuas" title="Permalink to this headline">¶</a></h2>
<p>Sea x una variable continua, que puede tomar cualquier valor entre 0 y u (<span class="math notranslate nohighlight">\(0 \leq x \leq u \)</span>) y que puede corresponder, por poner ejemplo, a la cantidad de toneladas que se van a producir de cierto producto. En muchas situaciones interesa distinguir cuándo no se produce nada ( x=0 ), y cuándo se produce algo ( x&gt;0 ). Para esto se introduce la variable binaria y que sólo toma valores 0 ó 1, que llamaremos la variables indicador de la variables continua x, de tal forma que y=0 indique que x=0, e y=1 indique que x&gt;0. Es decir buscamos las equivalencias (<span class="math notranslate nohighlight">\(x=0\Leftrightarrow y=0\)</span>) y (<span class="math notranslate nohighlight">\(x&gt;0\Leftrightarrow y=1\)</span>). Además, estas equivalencias deben ser expresadas en forma de restricciones lineales para poder ser incorporadas a un modelo de programación lineal entera. Para conseguir esto consideremos las siguientes restricciones.</p>
<p>1.- <span class="math notranslate nohighlight">\(x \leq uy\)</span>. Esta restricción equivale a: <span class="math notranslate nohighlight">\(y=0 \Rightarrow x=0\)</span> o su equivalente: <span class="math notranslate nohighlight">\(x&gt;0 \Rightarrow y=1\)</span>. En muchos casos es suficiente añadir esta restricción para conectar o asociar la variable x con su indicador y.</p>
<p>2.- Para la otra implicación: y=1 \Rightarrow x&gt;0, o su equivalente x=0 \Rightarrow y=0, hay que sustituir la condición x&gt;0 por una del tipo <span class="math notranslate nohighlight">\(x \geq m\)</span>, donde m&gt;0 es una cantidad suficientemente pequeña. Entonces bastaría añadir la restricción <span class="math notranslate nohighlight">\(x \geq my\)</span>.</p>
<p>Resumiendo, dada una variables continua con rango entre cero y u, el siguiente grupo de restricciones asocia o coonecta la variable x con su indicador y:</p>
<div class="math notranslate nohighlight">
\[x \leq uy\]</div>
<div class="math notranslate nohighlight">
\[x \geq my\]</div>
<div class="math notranslate nohighlight">
\[y \epsilon \{0,1\}\]</div>
<p>De todas formas, hay que decir que en la mayoría de las ocasiones es suficiente introducir la implicación que aparece en el primer punto anterior, lo cual se consigue con las restricciones:</p>
<div class="math notranslate nohighlight">
\[x \leq uy\]</div>
<div class="math notranslate nohighlight">
\[ y \epsilon \{0,1\}\]</div>
</div>
<div class="section" id="restricciones-logicas-incluyendo-variables">
<h2><span class="section-number">4.2. </span>Restricciones lógicas incluyendo variables.<a class="headerlink" href="#restricciones-logicas-incluyendo-variables" title="Permalink to this headline">¶</a></h2>
<p>Utilizando de forma conveniente las restricciones que asocian a una variable con su indicador, las restricciones lógicas más habituales se expresan como una restricción sencilla a sus indicadores.</p>
<div class="section" id="variables-incompatibles">
<h3><span class="section-number">4.2.1. </span>Variables incompatibles.<a class="headerlink" href="#variables-incompatibles" title="Permalink to this headline">¶</a></h3>
<p>Dos variables <span class="math notranslate nohighlight">\(x_1\)</span> y <span class="math notranslate nohighlight">\(x_2\)</span> son incompatibles si no se pueden cumplir a la vez las dos condiciones  al mismo tiempo, es decir que por ejemplo es incompatible <span class="math notranslate nohighlight">\(x_1&gt;0\)</span> y <span class="math notranslate nohighlight">\(x_2&gt;0\)</span>. Basta pensar en dos productos que no pueden salir al mercado simultáneamente, o que no pueden entrar simultáneamente en una mezcla. Entonces deben cumplirse las implicaciones <span class="math notranslate nohighlight">\(x_1&gt;0 \Rightarrow x_2=0\)</span>  y <span class="math notranslate nohighlight">\(x_2&gt;0 \Rightarrow x_1=0\)</span>. Para expresar estas implicaciones en forma de restricciones lineales sean <span class="math notranslate nohighlight">\(u_1\)</span> y <span class="math notranslate nohighlight">\(u_2\)</span> cotas superiores de <span class="math notranslate nohighlight">\(x_1\)</span> y <span class="math notranslate nohighlight">\(x_2\)</span> respectivamente ( si no se conocen cotas explícitas basta tomar una caantidad M&gt;0  suficientemente grande). Entonces, se añaden las siguientes restricciones:</p>
<div class="math notranslate nohighlight">
\[x_1 \leq u_1y_1\]</div>
<div class="math notranslate nohighlight">
\[x_2 \leq u_2y2\]</div>
<div class="math notranslate nohighlight">
\[y_1+y_2 \leq 1\qquad y_1,y_2 \epsilon \{0,1\}\]</div>
<p>Y así se verifican las dos implicaciones <span class="math notranslate nohighlight">\(x_1&gt;0 \Rightarrow  y_1=0 \Rightarrow y_2=0 \Rightarrow x_2=0\)</span> y lo mismo para <span class="math notranslate nohighlight">\(x_2&gt;0\)</span></p>
</div>
<div class="section" id="maximo-numero-de-variables">
<h3><span class="section-number">4.2.2. </span>Máximo número de variables.<a class="headerlink" href="#maximo-numero-de-variables" title="Permalink to this headline">¶</a></h3>
<p>Dadas n variables con cotas <span class="math notranslate nohighlight">\(0 \leq x_j \leq u_j, j=1,...,n\)</span> la restricción lógica es que como mucho k de ellas pueden ser positivas ( por ejemplo, máximo número de componentes de una mezcla, máximo número de inversiones…) donde k es un entero 0&lt;k&lt;n. Asociando a cada variable son su indicador, bastaría añadir las restricciones.</p>
<div class="math notranslate nohighlight">
\[x_j \leq u_j y_j, j=1,...,n\]</div>
<div class="math notranslate nohighlight">
\[\sum_{i=1}^{n}y_i \leq k \]</div>
<div class="math notranslate nohighlight">
\[y_j\epsilon\{1,0\}, j=1,...,n\]</div>
</div>
<div class="section" id="variables-o-expresiones-discretas">
<h3><span class="section-number">4.2.3. </span>Variables o expresiones discretas.<a class="headerlink" href="#variables-o-expresiones-discretas" title="Permalink to this headline">¶</a></h3>
<p>Una expresión discreta es una expresión lineal <span class="math notranslate nohighlight">\(f(x_1,...,x_n)=\sum_{j=1}^{n} a_j x_j\)</span>, que sólo puede tomar alguno de los valores en un conjunto discreto {<span class="math notranslate nohighlight">\(d_1,...,d_N \)</span>}. En particular, si <span class="math notranslate nohighlight">\(f(x_1,...x_n)=x_j\)</span>, es la variable <span class="math notranslate nohighlight">\(x_j\)</span> la que puede tomar un conjunto discreto de valores. Una formulación de esta condición puede ser la siguiente:</p>
<div class="math notranslate nohighlight">
\[f(x_1,...,x_n)=\sum_{i=1}^{N} d_i y_i\]</div>
<div class="math notranslate nohighlight">
\[\sum_{i=1}^{N} y_i = 1\]</div>
<div class="math notranslate nohighlight">
\[y_i \epsilon\{0,1\} ,i=1,...N\]</div>
</div>
<div class="section" id="variables-semicontinuas">
<h3><span class="section-number">4.2.4. </span>Variables semicontinuas.<a class="headerlink" href="#variables-semicontinuas" title="Permalink to this headline">¶</a></h3>
<p>Una variable continua con <span class="math notranslate nohighlight">\(0\leq x \leq u\)</span> puede tomar cualquier valor entre o y u. En cambio, una variable semicontinua puede tomar o bien el valor x=0 o bien si es x&gt;0, debe ser <span class="math notranslate nohighlight">\(x \geq m\)</span>. Basta pensar en cantidades mínimas que se pueden producir, o cantidades mínimas en una mezcla. Para modificar este tipo de variables basta añadir a su indicador y las siguientes restricciones:</p>
<div class="math notranslate nohighlight">
\[x \leq uy\]</div>
<div class="math notranslate nohighlight">
\[x \geq my\]</div>
<div class="math notranslate nohighlight">
\[y \epsilon \{0,1\}\]</div>
<p>De esta manera se tiene que si <span class="math notranslate nohighlight">\(y=0 \Rightarrow x=0\)</span> y si <span class="math notranslate nohighlight">\(y=1 \Rightarrow x \geq m\)</span> como queríamos.</p>
</div>
<div class="section" id="costos-fijos">
<h3><span class="section-number">4.2.5. </span>Costos fijos.<a class="headerlink" href="#costos-fijos" title="Permalink to this headline">¶</a></h3>
<p>Una de las condiciones de tipo lógico que más aparecen en la práctica se refiere a funciones de costo del siguiente tipo:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
c(x)=\begin{cases}
0 &amp; si\,x=0\\
K+cx &amp; si\:x&gt;0
\end{cases}
\end{split}\]</div>
<p>Aquí K es el costo fijo asociado a la variable x, y es el costo en que se incurre por producir cualquier cantidad del producto, mientras que <span class="math notranslate nohighlight">\(cx\)</span> es el coste variable. Este tipo de funciones de costo son no lineales, pues son incluso discontinuas en el origen. Para expresar este tipo de costo de forma lineal basta añadir el indicador y de la variable x, las restricciones</p>
<div class="math notranslate nohighlight">
\[x \leq uy\]</div>
<div class="math notranslate nohighlight">
\[y \epsilon\{0,1\}\]</div>
<p>y en la función objetivo aparecería el término cx+Ky, si x&gt;0 tiene que ser y=1, y el coste asociado es K+cx. En cambio, si x=0 en principio habría que añadir la restricción <span class="math notranslate nohighlight">\(x \geq my\)</span> para garantizar y=0 y el coste total sea 0. Sin embargo si K&gt;0 en el mínimo va a dar siempre esta condición y no es preciso añadirla explícitamente.</p>
<p>Un modelo de programación <em>lineal con costes fijos</em> es un modelo de programación lineal 0-1 mixta de la forma:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
min\quad\sum_{j=1}^{n}(c_{j}x_{j}+Ky_{j})\\
s.t.\\
\sum_{i=1}^{n}a_{ij}x_{j}=b_{i}\quad i=1,...,m\\
x_{j}\leq u_{j}y_{j} \quad j=1,...,n\\
y_{j}\epsilon\{0,1\}\quad j=1,...,n\\
x_{j}\geq0\quad j=1,...,n
\end{align*}
\end{split}\]</div>
<p>En particular, el modelo de <em>Flujo en Redes con Costes fijos</em>, es el siguiente modelo de programación 0-1 mixto:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
min\quad\sum_{(i,j)\epsilon A}(c_{ij}x_{ij}+Ky_{ij})\\
s.t.\\
\sum_{j\epsilon y^{+}(i)}x_{ij}-\sum_{j\epsilon y^{-}(i)}x_{ji}=b_{i}\quad\forall i\epsilon N\\
x_{ij}-u_{ij}y_{ij}\leq0\quad\forall(i,j)\epsilon A\\
y_{j}\epsilon\{0,1\}\quad\forall(i,j)\epsilon A\\
x_{ij}\geq0\quad\forall(i,j)\epsilon A
\end{align*}
\end{split}\]</div>
<p>En este tipo de modelos habitualmente <span class="math notranslate nohighlight">\(K_{ij}\)</span> representa el coste fijo de construcción o utilización del arco (i,j), mientras que <span class="math notranslate nohighlight">\(c_{ij}\)</span> es el coste marginal. La función objetivo global calcula el balance óptimo entre los costes fijos y los costes variables. Como casos particulares de este modelo están los siguientes problemas: Mínimo árbol de comunicación, árbol de Steiner, problemas de lotes, problemas de localización y problemas de diseños de redes.</p>
</div>
<div class="section" id="otras-condiciones-logicas-incluyendo-variables">
<h3><span class="section-number">4.2.6. </span>Otras condiciones lógicas incluyendo variables.<a class="headerlink" href="#otras-condiciones-logicas-incluyendo-variables" title="Permalink to this headline">¶</a></h3>
<p>Combinando condiciones sencillas con los operadores lógicos (‘y’,’o’,’no’ e ‘implica’) se pueden llegar a construir condiciones lógicas complejas, que posteriormente habría  que linealizar. Por ejemplo, supongamos que en un problema de mezclas con componentes A,B,C… nos piden las siguientes condicones:</p>
<p>1.- Si A está en la mezcla también debe estar B. (<span class="math notranslate nohighlight">\(Y_A \leq Y_B\)</span>).</p>
<p>2.- Si A está en la mezcla entonces o bien B ó bien C también deben estar. (<span class="math notranslate nohighlight">\(Y_B+Y_C \geq Y_A\)</span>)</p>
<p>3.- Si A o B está en la mezcla entonces debe estar C o D O E. (<span class="math notranslate nohighlight">\(Y_A+Y_B \leq 2(Y_C+Y_D+Y_E)\)</span>)</p>
<p>Para linealizar este tipo de condiciones lógicas hay que añadir a cada variable su indicador, asociarlos con restricciones del tipo (1) o (2), según convenga, y luego añadir una o varias restricciones de los indicadores.</p>
</div>
<div class="section" id="extension-de-la-restriccion-x-leq-uy-a-varias-variables">
<h3><span class="section-number">4.2.7. </span>Extensión de la restricción <span class="math notranslate nohighlight">\(x \leq uy\)</span> a varias variables.<a class="headerlink" href="#extension-de-la-restriccion-x-leq-uy-a-varias-variables" title="Permalink to this headline">¶</a></h3>
<p>La restricción <span class="math notranslate nohighlight">\(x \leq uy\)</span>, donde las variables son <span class="math notranslate nohighlight">\(x\geq0\)</span> e <span class="math notranslate nohighlight">\(y \epsilon \{0,1\}\)</span>, linealiza la implicación <span class="math notranslate nohighlight">\(y=0, \Rightarrow x=0 \)</span>. En muchass ocasiones se tiene que linealizar la siguiente implicación:</p>
<div class="math notranslate nohighlight">
\[y=0 \Rightarrow x_1=0,x_2=0,...,x_n=0 \]</div>
<p>POr ejemplo, supongamos que la variable <span class="math notranslate nohighlight">\(y \epsilon \{0,1\}\)</span> indica si se abre o no un almacén, mientras que las variables <span class="math notranslate nohighlight">\(x_j \geq 0,j=0,1,...n \)</span> indican las cantidades que se sirven desde el almacén a n clientes, siempre que se abra el almacén. Entonces esta implicación lógica se puede hacer de dos formas:</p>
<p>1.- Poniendo n restricciones <span class="math notranslate nohighlight">\(x_j\leq u_jy, j=1,2...,n\)</span>, donde <span class="math notranslate nohighlight">\(u_j\)</span> es una coa superior de la variable <span class="math notranslate nohighlight">\(x_j\)</span>. Llamaremos a esta forma la formulación desagregada.</p>
<p>2.- Poniendo una restricción <span class="math notranslate nohighlight">\(x_1+x_2,...+x_n \leq uy\)</span>, donde u es una cota superior de <span class="math notranslate nohighlight">\(x_1+x_2,...+x_n\)</span>. Llamaremos a esta forma la formulación agregada.</p>
<p>Muchos modelos de localización, empaquetamiento y diseño de redes hacen uso de estas restricciones.</p>
</div>
<div class="section" id="condiciones-logicas-incluyendo-restricciones-o-expresiones">
<h3><span class="section-number">4.2.8. </span>Condiciones lógicas incluyendo restricciones o expresiones.<a class="headerlink" href="#condiciones-logicas-incluyendo-restricciones-o-expresiones" title="Permalink to this headline">¶</a></h3>
<p>Existe otro tipo de condiciones lógicas que incluyen ciertas restricciones o expresiones sobre las variables. Un ejemplo podría ser: si se producen más de 2000 unidades de producto 1 entonces no deben producirse más de 1000 unidades entre los productos 2 y 3. Para modelizar este tipo de condiciones hay que introducir unas variables 0-1 adicionales que son los <em>indicadores de las restricciones o expresiones</em>.</p>
<p>Sea la restricción lineal o expresión <span class="math notranslate nohighlight">\(f(x) \leq 0\)</span>, a la cual queremos asociar un indicador  <span class="math notranslate nohighlight">\(y \epsilon \{0,1\}\)</span>. Por ejemplo, si se tiene una restricción <span class="math notranslate nohighlight">\(2x_1+3x_2+x_3\leq 7 \)</span>, basta con tomar <span class="math notranslate nohighlight">\(f(x)=2x_1+3x_2+x_3-7 \leq 0  \)</span>. Para que y sea el indicador de <span class="math notranslate nohighlight">\(f(x) \leq 0\)</span> debe cumplirse que si y=1 entonces se tenga <span class="math notranslate nohighlight">\(f(x) \leq 0\)</span>. Para conseguir esto, sea <span class="math notranslate nohighlight">\(\bar{f}\)</span> una cota superior de <span class="math notranslate nohighlight">\(f(x)\)</span>. Si no se conoce una cota explícita basta tomar <span class="math notranslate nohighlight">\(\bar{f} = M\)</span>, un número grande. Entonces basta añadir al modelo las restricciones:</p>
<div class="math notranslate nohighlight">
\[f(x) \bar{f}(1-y) \]</div>
<div class="math notranslate nohighlight">
\[y \epsilon \{0,1\} \]</div>
<p>Así, si y = 1 se tiene, como buscábamos que <span class="math notranslate nohighlight">\(f(x) \leq 0 \)</span>, mientras que si y = 0, queda que <span class="math notranslate nohighlight">\(fx) \leq \bar{f}\)</span>, que s una restricción redundante o inactiva.</p>
<p>Cuando la expresión es de la forma <span class="math notranslate nohighlight">\(f(x) \geq 0\)</span> basta tomar una cota inferior <span class="math notranslate nohighlight">\( f(x) \geq \underline{f}\)</span> y añadir:</p>
<div class="math notranslate nohighlight">
\[ f(x) \geq \underline{f}(1-y)\]</div>
<div class="math notranslate nohighlight">
\[ y \epsilon \{0,1\}\]</div>
<p>Utilizando estos indicadores de forma conveniente se pueden linealizar muchos tipos de condiciones lógicas que incluyen expresiones .</p>
</div>
<div class="section" id="dicotomias-o-restricciones-al-menos-una-de-dos">
<h3><span class="section-number">4.2.9. </span>Dicotomías o restricciones ‘al menos una de dos’.<a class="headerlink" href="#dicotomias-o-restricciones-al-menos-una-de-dos" title="Permalink to this headline">¶</a></h3>
<p>Una dicotomía es una expresión lógica del tipo <span class="math notranslate nohighlight">\(R_1 \lor R_2\)</span> ( que se cumpla al menos una de las dos condiciones <span class="math notranslate nohighlight">\(R_1\,o\, R_2\)</span>), donde <span class="math notranslate nohighlight">\(R_1\,y\,R_2\)</span> son expresiones lógicas. En nuestro caso las expresiones <span class="math notranslate nohighlight">\(R_i\)</span> las pondremos siempre de la forma  <span class="math notranslate nohighlight">\(f_i(x) \leq 0\)</span>. Para linealizar la dicotomía <span class="math notranslate nohighlight">\((f_1(x) \leq 0) \lor (f_2(x) \leq 0)\)</span> basta calcular cotas superiores <span class="math notranslate nohighlight">\(\overline{f_1}\,y\,\overline{f_2}\)</span> y añadir los indicadores de <span class="math notranslate nohighlight">\(y_1\,y\,y_2\)</span> mediante las restricciones:</p>
<div class="math notranslate nohighlight">
\[f_1(x) \leq \overline{f_1}(1-y_1)\]</div>
<div class="math notranslate nohighlight">
\[f_2(x) \leq \overline{f_2}(1-y_2) \]</div>
<div class="math notranslate nohighlight">
\[y_1+y_2 \geq 1\]</div>
<div class="math notranslate nohighlight">
\[ y_1,y_2 \epsilon \{0,1\}\]</div>
<p>En el caso de una dicotomía se puede obtener el mismo resultado con una sola variable 0-1 poniendo:</p>
<div class="math notranslate nohighlight">
\[f_1(x) \geq \overline{f_1}(1-y) \]</div>
<div class="math notranslate nohighlight">
\[f_2(x) \geq \overline{f_2}y \]</div>
<div class="math notranslate nohighlight">
\[y \epsilon \{0,1\} \]</div>
<p>Basta comprobar los dos casos: si y=1 queda <span class="math notranslate nohighlight">\(f_1(x) \geq 0\)</span> como buscábamos, y <span class="math notranslate nohighlight">\(f_2 \geq \overline{f_2}\)</span> que es una restricción redundante; y si y=0 queda <span class="math notranslate nohighlight">\(f_1 \geq \overline{f_1} (redundante) y \)</span>f_2(x) \geq 0$.</p>
<p>Si alguna de las expresiones que intervienen en la dicotomía son del tipo <span class="math notranslate nohighlight">\(f_i(x) \leq 0\)</span>, una de dos, o se cambia la restricción a la forma señalada anteriormente, o bien se calculan cotas inferiores y se añaden las correspondientes restricciones del tipo <span class="math notranslate nohighlight">\( \geq \)</span>.</p>
</div>
<div class="section" id="disyunciones-o-restricciones-al-menos-k-de-m">
<h3><span class="section-number">4.2.10. </span>Disyunciones o restricciones ‘al menos k de m’.<a class="headerlink" href="#disyunciones-o-restricciones-al-menos-k-de-m" title="Permalink to this headline">¶</a></h3>
<p>Sean m restricciones del tipo <span class="math notranslate nohighlight">\(f_i(x) \leq 0 ;i=1,2,...m\)</span> y buscamos linealizar la condición lógica: que se umplan al menos k de las me restricciones ( siendo k &lt; m). Para esto basta calcular las m cotas superiores <span class="math notranslate nohighlight">\( \overline{f_i}\,;i=1,2,...m\)</span> e introducir los indicadores <span class="math notranslate nohighlight">\(y \epsilon \{0,1\}\)</span> mediante las restricciones:</p>
<div class="math notranslate nohighlight">
\[f_i(x) \geq \overline{f_i}(1-y_i),\, i=1,2,....,n\]</div>
<div class="math notranslate nohighlight">
\[ \sum_{i=1}^my_i \geq k\]</div>
<div class="math notranslate nohighlight">
\[y \epsilon \{0,1\} , i=1,2,...,m\]</div>
</div>
<div class="section" id="implicaciones-o-restricciones-condicionales">
<h3><span class="section-number">4.2.11. </span>Implicaciones o restricciones condicionales.<a class="headerlink" href="#implicaciones-o-restricciones-condicionales" title="Permalink to this headline">¶</a></h3>
<p>Dadas dos restricciones lógicas <span class="math notranslate nohighlight">\(R_1\)</span> y <span class="math notranslate nohighlight">\(R_2\)</span> la implicación <span class="math notranslate nohighlight">\(R_1 \Rightarrow R_2\)</span> indica simplemente que si se cumple <span class="math notranslate nohighlight">\(R_1\)</span> entonces debe cumplirse <span class="math notranslate nohighlight">\(R_2\)</span>. Para linealizar una implicación, basta observar que <span class="math notranslate nohighlight">\(R_1 \Rightarrow R_2\)</span> es equivalente a la dicotomía <span class="math notranslate nohighlight">\(R_2 \lor \thicksim R_1\)</span>, donde <span class="math notranslate nohighlight">\(\thicksim\)</span> es la negación de <span class="math notranslate nohighlight">\(R_1\)</span>.</p>
<p>Así, la implicación <span class="math notranslate nohighlight">\((f_1(x)\leq 0) \Rightarrow (f_2(x) \leq 0)\)</span> se pone primero de la forma <span class="math notranslate nohighlight">\((f_2(x)\leq 0) \lor (f_1(x) &gt;0)\)</span>, y después se sustituye <span class="math notranslate nohighlight">\((f_1(x)&gt;0)\)</span> por <span class="math notranslate nohighlight">\(f_1(x) \geq \epsilon\)</span>, con <span class="math notranslate nohighlight">\(\epsilon &gt;0\)</span>, llegando a la dicotomía <span class="math notranslate nohighlight">\((f_2(x) \leq 0) \lor (f_1(x) \geq \epsilon)\)</span>. Para linealizar esta dicotomía se calculan una cota superior <span class="math notranslate nohighlight">\(\overline{f_2}\)</span> de <span class="math notranslate nohighlight">\(f_2(x)\)</span> y una cota inferior <span class="math notranslate nohighlight">\(\underline{f_1}\)</span> de <span class="math notranslate nohighlight">\(f_1(x)-\epsilon\)</span> y se añaden las restricciones:</p>
<div class="math notranslate nohighlight">
\[f_2(x) \leq \overline{f_2}(1-y) \]</div>
<div class="math notranslate nohighlight">
\[f_1(x) -\epsilon \geq \underline{f_1}y \]</div>
<div class="math notranslate nohighlight">
\[y \epsilon \{0,1\} \]</div>
<p>Para ve que estas restricciones modelizan la implicación basta observar que si se cumple <span class="math notranslate nohighlight">\((f_1(x) \leq 0)\)</span> entonces tiene que ser necesariamente <span class="math notranslate nohighlight">\(y=1\)</span> (por la segunda restricción) y entonces por la primera es <span class="math notranslate nohighlight">\(f_2(x) \leq 0\)</span></p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="capitulo1.html" title="previous page"><span class="section-number">1. </span>Introducción.</a>
    <a class='right-next' id="next-link" href="pyomo1.html" title="next page"><span class="section-number">1. </span>Introducción Pyomo.</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Francisco Rodríguez<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>